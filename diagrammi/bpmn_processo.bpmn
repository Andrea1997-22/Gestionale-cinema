<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
  <bpmn2:process id="Process_1" name="Processo Acquisto Biglietto Cinema" isExecutable="false">
    <bpmn2:startEvent id="StartEvent_1" name="Inizio acquisto">
      <bpmn2:outgoing>Flow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:task id="Task_1" name="Visualizza film disponibili">
      <bpmn2:incoming>Flow_1</bpmn2:incoming>
      <bpmn2:outgoing>Flow_2</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_2" name="Seleziona spettacolo">
      <bpmn2:incoming>Flow_2</bpmn2:incoming>
      <bpmn2:outgoing>Flow_3</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_3" name="Verifica disponibilità posti">
      <bpmn2:incoming>Flow_3</bpmn2:incoming>
      <bpmn2:outgoing>Flow_4</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="Gateway_1" name="Posti disponibili?">
      <bpmn2:incoming>Flow_4</bpmn2:incoming>
      <bpmn2:outgoing>Flow_5_No</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_10_Si</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="Task_4" name="Notifica indisponibilità">
      <bpmn2:incoming>Flow_5_No</bpmn2:incoming>
      <bpmn2:outgoing>Flow_6</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_5" name="Registra richiesta notifica">
      <bpmn2:incoming>Flow_6</bpmn2:incoming>
      <bpmn2:incoming>Flow_9</bpmn2:incoming>
      <bpmn2:outgoing>Flow_7</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:boundaryEvent id="BoundaryEvent_1" name="Posti disponibili" attachedToRef="Task_5">
      <bpmn2:outgoing>Flow_8</bpmn2:outgoing>
      <bpmn2:messageEventDefinition />
    </bpmn2:boundaryEvent>
    <bpmn2:task id="Task_6" name="Invia notifica disponibilità">
      <bpmn2:incoming>Flow_8</bpmn2:incoming>
      <bpmn2:outgoing>Flow_9</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_7" name="Seleziona posto">
      <bpmn2:incoming>Flow_10_Si</bpmn2:incoming>
      <bpmn2:outgoing>Flow_11</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_8" name="Inserisci dati cliente">
      <bpmn2:incoming>Flow_11</bpmn2:incoming>
      <bpmn2:outgoing>Flow_12</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_9" name="Calcola totale">
      <bpmn2:incoming>Flow_12</bpmn2:incoming>
      <bpmn2:outgoing>Flow_13</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_10" name="Effettua pagamento">
      <bpmn2:incoming>Flow_13</bpmn2:incoming>
      <bpmn2:outgoing>Flow_14</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:exclusiveGateway id="Gateway_2" name="Pagamento riuscito?">
      <bpmn2:incoming>Flow_14</bpmn2:incoming>
      <bpmn2:outgoing>Flow_15_Si</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_18_No</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="Task_11" name="Genera biglietto">
      <bpmn2:incoming>Flow_15_Si</bpmn2:incoming>
      <bpmn2:outgoing>Flow_16</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_12" name="Invia conferma email">
      <bpmn2:incoming>Flow_16</bpmn2:incoming>
      <bpmn2:outgoing>Flow_17</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:endEvent id="EndEvent_1" name="Biglietto acquistato">
      <bpmn2:incoming>Flow_17</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:task id="Task_13" name="Notifica errore pagamento">
      <bpmn2:incoming>Flow_18_No</bpmn2:incoming>
      <bpmn2:outgoing>Flow_19</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:endEvent id="EndEvent_2" name="Acquisto non completato">
      <bpmn2:incoming>Flow_7</bpmn2:incoming>
      <bpmn2:incoming>Flow_19</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Task_1" />
    <bpmn2:sequenceFlow id="Flow_2" sourceRef="Task_1" targetRef="Task_2" />
    <bpmn2:sequenceFlow id="Flow_3" sourceRef="Task_2" targetRef="Task_3" />
    <bpmn2:sequenceFlow id="Flow_4" sourceRef="Task_3" targetRef="Gateway_1" />
    <bpmn2:sequenceFlow id="Flow_5_No" name="No" sourceRef="Gateway_1" targetRef="Task_4" />
    <bpmn2:sequenceFlow id="Flow_6" sourceRef="Task_4" targetRef="Task_5" />
    <bpmn2:sequenceFlow id="Flow_7" sourceRef="Task_5" targetRef="EndEvent_2" />
    <bpmn2:sequenceFlow id="Flow_8" sourceRef="BoundaryEvent_1" targetRef="Task_6" />
    <bpmn2:sequenceFlow id="Flow_9" sourceRef="Task_6" targetRef="Task_5" />
    <bpmn2:sequenceFlow id="Flow_10_Si" name="Sì" sourceRef="Gateway_1" targetRef="Task_7" />
    <bpmn2:sequenceFlow id="Flow_11" sourceRef="Task_7" targetRef="Task_8" />
    <bpmn2:sequenceFlow id="Flow_12" sourceRef="Task_8" targetRef="Task_9" />
    <bpmn2:sequenceFlow id="Flow_13" sourceRef="Task_9" targetRef="Task_10" />
    <bpmn2:sequenceFlow id="Flow_14" sourceRef="Task_10" targetRef="Gateway_2" />
    <bpmn2:sequenceFlow id="Flow_15_Si" name="Sì" sourceRef="Gateway_2" targetRef="Task_11" />
    <bpmn2:sequenceFlow id="Flow_16" sourceRef="Task_11" targetRef="Task_12" />
    <bpmn2:sequenceFlow id="Flow_17" sourceRef="Task_12" targetRef="EndEvent_1" />
    <bpmn2:sequenceFlow id="Flow_18_No" name="No" sourceRef="Gateway_2" targetRef="Task_13" />
    <bpmn2:sequenceFlow id="Flow_19" sourceRef="Task_13" targetRef="EndEvent_2" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="132" y="145" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_1_di" bpmnElement="Task_1">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_2_di" bpmnElement="Task_2">
        <dc:Bounds x="390" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_3_di" bpmnElement="Task_3">
        <dc:Bounds x="540" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1" isMarkerVisible="true">
        <dc:Bounds x="690" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="683" y="65" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_4_di" bpmnElement="Task_4">
        <dc:Bounds x="665" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_5_di" bpmnElement="Task_5">
        <dc:Bounds x="665" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_7_di" bpmnElement="Task_7">
        <dc:Bounds x="800" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_8_di" bpmnElement="Task_8">
        <dc:Bounds x="950" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_9_di" bpmnElement="Task_9">
        <dc:Bounds x="1100" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_10_di" bpmnElement="Task_10">
        <dc:Bounds x="1250" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_2_di" bpmnElement="Gateway_2" isMarkerVisible="true">
        <dc:Bounds x="1400" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1393" y="65" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_11_di" bpmnElement="Task_11">
        <dc:Bounds x="1500" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_12_di" bpmnElement="Task_12">
        <dc:Bounds x="1650" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="1800" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1785" y="145" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_13_di" bpmnElement="Task_13">
        <dc:Bounds x="1375" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_2_di" bpmnElement="EndEvent_2">
        <dc:Bounds x="697" y="452" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="680" y="495" width="70" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_6_di" bpmnElement="Task_6">
        <dc:Bounds x="500" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1_di" bpmnElement="BoundaryEvent_1">
        <dc:Bounds x="647" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="575" y="423" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="390" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="490" y="120" />
        <di:waypoint x="540" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="640" y="120" />
        <di:waypoint x="690" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_No_di" bpmnElement="Flow_5_No">
        <di:waypoint x="715" y="145" />
        <di:waypoint x="715" y="200" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="723" y="170" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="715" y="280" />
        <di:waypoint x="715" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="715" y="410" />
        <di:waypoint x="715" y="452" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="647" y="410" />
        <di:waypoint x="550" y="410" />
        <di:waypoint x="550" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_9_di" bpmnElement="Flow_9">
        <di:waypoint x="600" y="350" />
        <di:waypoint x="633" y="350" />
        <di:waypoint x="633" y="370" />
        <di:waypoint x="665" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_Si_di" bpmnElement="Flow_10_Si">
        <di:waypoint x="740" y="120" />
        <di:waypoint x="800" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="762" y="102" width="11" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11_di" bpmnElement="Flow_11">
        <di:waypoint x="900" y="120" />
        <di:waypoint x="950" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12_di" bpmnElement="Flow_12">
        <di:waypoint x="1050" y="120" />
        <di:waypoint x="1100" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13_di" bpmnElement="Flow_13">
        <di:waypoint x="1200" y="120" />
        <di:waypoint x="1250" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14_di" bpmnElement="Flow_14">
        <di:waypoint x="1350" y="120" />
        <di:waypoint x="1400" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15_Si_di" bpmnElement="Flow_15_Si">
        <di:waypoint x="1450" y="120" />
        <di:waypoint x="1500" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1467" y="102" width="11" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16_di" bpmnElement="Flow_16">
        <di:waypoint x="1600" y="120" />
        <di:waypoint x="1650" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17_di" bpmnElement="Flow_17">
        <di:waypoint x="1750" y="120" />
        <di:waypoint x="1800" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18_No_di" bpmnElement="Flow_18_No">
        <di:waypoint x="1425" y="145" />
        <di:waypoint x="1425" y="200" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1433" y="170" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19_di" bpmnElement="Flow_19">
        <di:waypoint x="1425" y="280" />
        <di:waypoint x="1425" y="470" />
        <di:waypoint x="733" y="470" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>
